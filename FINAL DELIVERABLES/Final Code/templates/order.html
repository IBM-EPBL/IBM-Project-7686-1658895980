{% extends "_DashboardLayout.html" %}
{% block body %}

<div class="py-5">
  <h2  style="font-weight: 700;">Order List</h2>
    <center class="py-5">
        
        <div class="p-3 text-end">
         <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">Add Order</button>
        </div>

        <div class="modal fade" id="myModal">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

              <div class="modal-header">
                <h4 class="modal-title">Order List</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
              </div>

              <div class="modal-body">
                <form class="center" action='{{url_for("order")}}' method="post">
                  <div class="shadow-lg p-5 bg-white rounded">
                  <div class="form-group text-start">
                    <h5 class="py-2">Customer Details</h5>
                    
                  <label >Customer Name</label>
                  <br>
                  <input class="form-control" type="text" name="cname" placeholder="Enter Customer Name"/>
                  <br>
                  <label>Contact</label>
                  <br>
                  <input class="form-control" type="number" name="cno" placeholder="Enter Phone Number"/>
                  <br>
                  <h5 class="py-2">Order Details</h5>
                  <label>Order ID</label>
                  <br>
                  <input class="form-control" type="number" name="oid" placeholder="Enter Order ID"/>
                  <br>
                  <label>Order Date</label>
                  <br>
                  <input class="form-control" type="date" name="odate" placeholder="Enter Order Date"/>
                  <br>
                  <label>Select Product</label>
                  <br>

                  <select class="form-select" aria-label="Select Product Name" name="pname">
                    {% for item in data %}
                    <option value="{{item}}">{{item}}</option>
                    {% endfor %}
                  </select>

                  <br>
                  <label>No of items</label>
                  <br>
                  <input class="form-control" type="number" name="items" placeholder="Enter No of items"/>
                  <br>
                  <label>Discount (%) </label>
                  <br>
                  <input class="form-control" type="text" name="discount" placeholder="Enter Discount Percentage"/>
                  <br>
                  <label>Status</label>
                  <br>
                  <select class="form-select" aria-label="status" name="status">
                    <option selected value="Completed">Completed</option>
                    <option value="Pending">Pending</option>
                  </select>
                  <br>
                  
                  <input type="submit" value="Add"  class="btn btn-primary mb-4" style="width:100%"/> 
                </div>
                </div>

            </form>
              </div>

              </div>
              </div>
              </div>
            


            

            <table class="table">
                <thead class="table-dark">
                    <tr class="text-center">
                        <th scope="col">#</th>
                        <th scope="col">Order ID</th>
                        <th scope="col">Order Date</th>
                        <th scope="col">Client Name</th>
                        <th scope="col">Contact</th>
                        <th scope="col">Product</th>
                        <th scope="col">No of items</th>
                        <th scope="col">Discount</th>
                        <th scope="col">Amount after discount</th>
                        <th scope="col">Status</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                  {% for item in items %}
                    <tr>
                      <!-- # -->
                      <td> {{items.index(item) + 1}} </td>
                      <!-- ORDER_ID -->
                      <td> {{item['ORDER_ID']}} </td>
                      <!-- ORDER_DATE -->
                      <td> {{item['ORDER_DATE']}} </td>
                      <!-- CLIENT_NAME -->
                      <td> {{item['CLIENT_NAME']}} </td>
                      <!-- CONTACT_NO -->
                      <td> {{item['CONTACT_NO']}} </td>
                      <!-- PRODUCT -->
                      <td> {{item['PRODUCT']}} </td>
                      <!-- NO_OF_ITEMS -->
                      <td> {{item['NO_OF_ITEMS']}} </td>
                      <!-- DISCOUNT -->
                      <td> {{item['DISCOUNT']}} %</td>
                      <!-- AMOUNT -->
                      <td> {{item['AMOUNT']}}</td>
                      <!-- Status -->
                      <td> {{item['STATUS']}}</td>
                    </tr>
                   {% endfor %}
                </tbody>
               
            </table>
        
    </center>
    <div class="alert alert-white text-center" role="alert">
      {{msg}}
    </div>
</div>


{% endblock %}
